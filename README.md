## Аксенов Даниил Алексеевич | БПИ 218 | КПО ДЗ 3

## Микросервисы заказов и авторизации

Архитектурно сервисы реализованы по паттерну Controller-Service-Repository:
 - в `*/cmd/*/main.go` лежит запускаемый файл
 - в `*/internal/api/` лежат handler-ы (контроллеры), которые обрабатывают входящий запрос и передают его менеджерам
 - в `*/internal/managers/` лежат менеджеры(сервисы), который реализуют продуктовую логику и обновляют данные в базе данных
 - в `*/internal/repository/` лежат структуры-обертки для работы с базой данных(переносят данные с помощью SQL в базы данных)
 - в `orders/internal/services/` лежит обертка над http походами в сервис авториазации

Из полезностей у каждого сервиса:
 -  в `README.md` описано api и есть примеры curl запросов
 - в `config.yaml` описаны некоторые параметры запуска, доступов к бд
 - в `Dockerfile` лежит то как он собирается в контейнер

Чтобы запустить оба микросервиса, нужно выполнить следующую команду:
```
docker compose up -d
``` 

Данный скрипт поднимает два контейнера с базами данных PostgreSQL для каждого из сервисов, а так же собирает два исполняемых файла для микросервисов.

Микросервис авторизации работает на порту 8080, а обработки меню и заказов на порту 8081.

Сервис обработки заказов делает GET запрос в ручку /user сервиса авторизации для получения информации о пользователе, чтобы потом проверить его роль

